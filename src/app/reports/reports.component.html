<div class="row mb-2">
  <h3>
    Reportes
  </h3>
</div>

<div class="card">
  <div class="card-body">
    <form class="form-inline">
      <app-datepicker-range (onDatePicked)="onDatePickedHandler($event)"></app-datepicker-range>
      <div class="col"></div>
      <div class="btn-group col-md-3" role="group">
        <button class="btn btn-xs btn-primary" (click)="getReport()"><span class="fa fa-play"></span> Generar reporte</button>    
      </div>
    </form>
  </div>
</div>

<br>

<section>
  <div class="row" *ngIf="!noData">
    <div class="card col-md-6">
      <div class="card-body text-center">
        <h5>Total de potenciales clientes</h5>
        <h1>{{ report.potenciales[0].value + ' de ' + (report.potenciales[0].value + report.potenciales[1].value) }}</h1>
        <h5>encuestas realizadas</h5>
      </div>
    </div>
    <div class="card col-md-6">
      <div class="card-body">
        <ngx-charts-bar-horizontal
          (window:resize)="onResize($event)"
          [results]="report.potenciales"
          [view]="view"
          [scheme]="colorScheme"
          [xAxis]="true"
          [yAxis]="true"
          [showXAxisLabel]="true"
          [showYAxisLabel]="true"
          [xAxisLabel]="xAxisLabel"
          [yAxisLabel]="yAxisLabel"
        >
      </ngx-charts-bar-horizontal>
      </div>
    </div>
  </div>
  
  <br>
  
  <div class="row" *ngIf="!noData">
    <div class="card col-md-6">
      <div class="card-body text-center">
        <h5>Total vehiculos de potenciales clientes</h5>
        <!-- <h1>{{ report.vehiculos[0].value + ' de ' + (results[0].value + results[1].value) }}</h1> -->
      </div>
    </div>
    <div class="card col-md-6">
      <div class="card-body">
        <ngx-charts-bar-horizontal-normalized
          (window:resize)="onResize($event)"
          [results]="report.vehiculos"
          [view]="view"
          [scheme]="colorScheme"
          [xAxis]="true"
          [yAxis]="true"
          [showXAxisLabel]="true"
          [showYAxisLabel]="true"
          [xAxisLabel]="xAxisLabelVehiculos"
          [yAxisLabel]="yAxisLabelVehiculos"
        >
      </ngx-charts-bar-horizontal-normalized>
      </div>
    </div>
  </div>
</section>

<div class="alert alert-warning" role="alert" *ngIf="noData && showWarning">
  No hay datos.
</div>